!function(a){a(".search").focus(),a(".search").on("keyup",function(b){var c=a(b.currentTarget).val();console.log(c),c.length>0?(a("#all-packages [data-library-name]").hide(),a('#all-packages [data-library-name*="'+c+'"]').show()):a("[data-library-name]").show()}),a(document).on("input",".clearable",function(){this.value?a(this).next("i").removeClass("fa-search").addClass("fa-close x"):a(this).next("i").removeClass("fa-close").addClass("fa-search")}).on("mousemove",".x",function(b){a(this).addClass("onX")}).on("click",".onX",function(){a(this).removeClass("x onX").prev("input").val("").change(),a(this).removeClass("fa-close").addClass("fa-search"),a("[data-library-name]").show()}),a(window).scroll(function(){a(this).scrollTop()>100?a("#back-to-top").fadeIn():a("#back-to-top").fadeOut()}),a("#back-to-top").on("click",function(b){return b.preventDefault(),a("html, body").animate({scrollTop:0},1e3),!1});try{if("/"!==window.location.pathname){var b=a(".site-header h1").first().text();a(".site-header").geopattern(b)}}catch(c){console.log(c)}localforage.getItem("protocal",function(b,c){return b?console.log(b):void(c&&(console.log("Get protocal: ",c),a("#"+c).parent().button("toggle"),"relative"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text(b.replace(/^https?:/i,""))}):"http"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text("http:"+b.replace(/^https?:/i,""))}):"https"===c&&a(".library-url").each(function(){var b=a(this).text();a(this).text("https:"+b.replace(/^https?:/i,""))})))}),a(".btn-group .btn").click(function(){var b=a("input",this),c=b.attr("id");console.log("Protocal ",c," was selected"),"relative"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text(b.replace(/^https?:/i,""))}):"http"===c?a(".library-url").each(function(){var b=a(this).text();a(this).text("http:"+b.replace(/^https?:/i,""))}):"https"===c&&a(".library-url").each(function(){var b=a(this).text();a(this).text("https:"+b.replace(/^https?:/i,""))}),localforage.setItem("protocal",c,function(a,b){return a?console.log(a):void console.log("saved protocal: ",b)})})}(jQuery),$(function(){function a(a){var b=document,c=a;if(b.body.createTextRange){var d=b.body.createTextRange();d.moveToElementText(c),d.select()}else if(window.getSelection){var e=window.getSelection(),d=b.createRange();d.selectNodeContents(c),e.removeAllRanges(),e.addRange(d)}}function b(){$(".library").on("mouseenter",function(b){$("library-url",this).text();a($(b.currentTarget)[0])}).on("mouseleave",function(a){})}ZeroClipboard.config({hoverClass:"btn-clipboard-hover"}),$(".library-url").each(function(){var a='<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-link"><i class="fa fa-link"></i> 复制链接</span></div>',b='<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-code"><i class="fa fa-code"></i> 复制 &lt;script&gt; 标签</span><span class="btn-clipboard btn-clipboard-link"><i class="fa fa-link"></i> 复制链接</span></div>',c='<div class="zero-clipboard"><span class="btn-clipboard btn-clipboard-code"><i class="fa fa-code"></i> 复制 &lt;link&gt; 标签</span><span class="btn-clipboard btn-clipboard-link"><i class="fa fa-link"></i> 复制链接</span></div>',d=$(this).text();$(this).before(/\.css$/.test(d)?c:/\.js$/.test(d)?b:a)});var c=new ZeroClipboard($(".btn-clipboard")),d=$("#global-zeroclipboard-html-bridge");c.on("ready",function(){d.data("placement","top").attr("title","复制到剪贴板").tooltip(),c.on("copy",function(a){var b=$(a.target).parent().nextAll(".library-url").first().text();console.log(a.target),$(a.target).hasClass("btn-clipboard-code")&&(/\.css$/.test(b)?b='<link href="'+b+'" rel="stylesheet">':/\.js$/.test(b)&&(b='<script src="'+b+'"></script>')),a.clipboardData.setData("text/plain",b)}),c.on("aftercopy",function(){d.attr("title","复制成功！").tooltip("fixTitle").tooltip("show").attr("title","复制到剪贴板").tooltip("fixTitle")})}),c.on("error",function(){$(".zero-clipboard").remove(),ZeroClipboard.destroy(),b()})});